# ğŸ¯ DIAGRAMA VISUAL - Sistema de Alerta Sonoro

## 1ï¸âƒ£ ARQUITETURA DO SISTEMA

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PÃGINA DE PEDIDOS                            â”‚
â”‚              (app/admin/orders/page.tsx)                       â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ useEffect: fetchOrders() a cada 3 segundos              â”‚ â”‚
â”‚  â”‚ â†“                                                        â”‚ â”‚
â”‚  â”‚ Detecta novo pedido PENDING                            â”‚ â”‚
â”‚  â”‚ â†“                                                        â”‚ â”‚
â”‚  â”‚ setActiveSoundAlertOrderId(orderId)                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                        â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚        COMPONENTE: OrderSoundAlert                       â”‚ â”‚
â”‚  â”‚    (components/order-sound-alert.tsx)                   â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  [â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”] â”‚ â”‚
â”‚  â”‚  [â”‚  â° NOVO PEDIDO! ğŸ“±  [#A1B2C3D4]              â”‚] â”‚ â”‚
â”‚  â”‚  [â”‚  Valor: R$ 45,90                               â”‚] â”‚ â”‚
â”‚  â”‚  [â”‚  [ACEITAR] [ğŸ”Š] [âœ•]                           â”‚] â”‚ â”‚
â”‚  â”‚  [â”‚  ğŸ”Š Som toque a cada 2.5 segundos             â”‚] â”‚ â”‚
â”‚  â”‚  [â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜] â”‚ â”‚
â”‚  â”‚        â†“                                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚   HOOK: useContinuousSound                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  (hooks/useContinuousSound.ts)                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  setInterval(() => {                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    if (soundEnabled && isActive) {                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      playSound()                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    }                                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  }, 2500)  // A cada 2.5 segundos                 â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                        â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         SOM (HTML5 Audio ou Web Audio API)              â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€ HTML5 Audio â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ new Audio('/sounds/notification.mp3')          â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚              ou (fallback)                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€ Web Audio API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ Osciladores: 800Hz + 1200Hz                   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ DuraÃ§Ã£o: 0.4s                                 â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ Volume: 100%                                  â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         ğŸ”Š SOM TOCA! ğŸ”Š
                      A cada 2.5 segundos
```

---

## 2ï¸âƒ£ FLUXO DE ESTADOS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NOVO PEDIDO CHEGA                        â”‚
â”‚                                                             â”‚
â”‚  API: POST /api/orders â†’ {status: 'PENDING'}               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            FETCHORDERS() DETECTA NOVO PEDIDO                â”‚
â”‚                                                             â”‚
â”‚  newPendingOrders.filter(o => !allSeenOrderIdsRef.has(o.id))
â”‚  Resultado: [Order {id: 'xyz'}]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ATIVA ESTADO activeSoundAlertOrderId                 â”‚
â”‚                                                             â”‚
â”‚  setActiveSoundAlertOrderId('xyz')                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                       â†“
    [ACEITAR]              [MUTAR/FECHAR]
         â”‚                       â”‚
         â†“                       â†“
    Sound PARA             Som MUDO (amarelo)
    Alerta FECHA           Alerta permanece
    Status â†’ CONFIRMED     Status = PENDING
         â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ [CLOSE/REJEITAR]     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
    setActiveSoundAlertOrderId(null)
    Alerta DESAPARECE
    Som PARA (se estava ativo)

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ PrÃ³ximo pedido PENDINGâ”‚
         â”‚ (se houver)          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
         Alerta ativa novamente
```

---

## 3ï¸âƒ£ CICLO DE SOM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         CICLO DE REPRODUÃ‡ÃƒO DE SOM                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  T=0s                                                    â”‚
â”‚  â””â”€â†’ useContinuousSound() ativa                         â”‚
â”‚      â””â”€â†’ playSound() executado imediatamente             â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚          â”‚ ğŸ”Š TOQUE #1                 â”‚                â”‚
â”‚          â”‚ DuraÃ§Ã£o: 0.4s               â”‚                â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                          â”‚
â”‚  T=2.5s                                                  â”‚
â”‚  â””â”€â†’ setInterval dispara (2500ms)                       â”‚
â”‚      â””â”€â†’ playSound() executado novamente                â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚          â”‚ ğŸ”Š TOQUE #2                 â”‚                â”‚
â”‚          â”‚ DuraÃ§Ã£o: 0.4s               â”‚                â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                          â”‚
â”‚  T=5.0s                                                  â”‚
â”‚  â””â”€â†’ setInterval dispara (2500ms)                       â”‚
â”‚      â””â”€â†’ playSound() executado novamente                â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚          â”‚ ğŸ”Š TOQUE #3                 â”‚                â”‚
â”‚          â”‚ DuraÃ§Ã£o: 0.4s               â”‚                â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                          â”‚
â”‚  ... continua atÃ©:                                       â”‚
â”‚                                                          â”‚
â”‚  soundEnabled = false (mutar)                           â”‚
â”‚  OU                                                      â”‚
â”‚  isActive = false (aceitar/fechar)                      â”‚
â”‚                                                          â”‚
â”‚  â””â”€â†’ clearInterval()                                    â”‚
â”‚  â””â”€â†’ audio.pause()                                      â”‚
â”‚  â””â”€â†’ Som PARA                                           â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cada ğŸ”Š = 0.4 segundos
Intervalo = 2.5 segundos
TOTAL de silÃªncio entre toques: 2.1 segundos
```

---

## 4ï¸âƒ£ COMPONENTES VISUAIS

```
COM SOM ATIVO (Vermelho)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â° NOVO PEDIDO!            [#A1B2C3D4]             â”‚
â”‚                                                    â”‚
â”‚  Valor: R$ 45,90                                   â”‚
â”‚  Clique em ACEITAR para parar o alarme             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [   ACEITAR    ]  [ğŸ”Š]  [âœ•]                       â”‚
â”‚                                                    â”‚
â”‚  ğŸ”Š Som toque a cada 2.5 segundos                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


COM SOM MUDO (Amarelo)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â° NOVO PEDIDO!            [#A1B2C3D4]             â”‚
â”‚                                                    â”‚
â”‚  Valor: R$ 45,90                                   â”‚
â”‚  Clique em ACEITAR para parar o alarme             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [   ACEITAR    ]  [ğŸ”‡]  [âœ•]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


COM MÃšLTIPLOS PEDIDOS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â° NOVO PEDIDO!            [#A1B2C3D4]             â”‚
â”‚                                                    â”‚
â”‚  3 pedidos pendentes                               â”‚
â”‚  Valor: R$ 45,90                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [   ACEITAR    ]  [ğŸ”Š]  [âœ•]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5ï¸âƒ£ WEB AUDIO API SÃNTESE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      WEB AUDIO API: GeraÃ§Ã£o de Som               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  AudioContext                                   â”‚
â”‚      â”œâ”€ OscillatorNode #1                      â”‚
â”‚      â”‚   â””â”€ Frequency: 800 Hz                  â”‚
â”‚      â”‚       â””â”€ Tipo: Sine                     â”‚
â”‚      â”‚           â””â”€ Envelope: 0.4s exponencialâ”‚
â”‚      â”‚                                         â”‚
â”‚      â”œâ”€ OscillatorNode #2                      â”‚
â”‚      â”‚   â””â”€ Frequency: 1200 Hz                 â”‚
â”‚      â”‚       â””â”€ Tipo: Sine                     â”‚
â”‚      â”‚           â””â”€ Envelope: 0.4s exponencialâ”‚
â”‚      â”‚                                         â”‚
â”‚      â””â”€ GainNode                               â”‚
â”‚          â””â”€ Volume: 1.0 (100%)                 â”‚
â”‚              â””â”€ Fade out: 0.01 apÃ³s 0.4s      â”‚
â”‚                  â””â”€ destination (Speakers)     â”‚
â”‚                                                 â”‚
â”‚  Resultado: Tom notÃ¡vel (agressivo o suficiente)
â”‚             para chamar atenÃ§Ã£o                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6ï¸âƒ£ TIMELINE DE EVENTOS

```
T=0ms    â”Œâ”€ Novo pedido detectado
         â””â”€ setActiveSoundAlertOrderId('xyz')
           â””â”€ Componente monta
             â””â”€ useContinuousSound hook inicia

T=0ms    â”Œâ”€ playSound() execute
         â””â”€ Audio criado
           â””â”€ audio.volume = 1.0
             â””â”€ audio.play()
               â””â”€ ğŸ”Š TOQUE 1 (0 a 400ms)

T=400ms  â””â”€ Som para (ou continua se arquivo)

T=2500ms â”Œâ”€ setInterval dispara
         â””â”€ playSound() execute novamente
           â””â”€ ğŸ”Š TOQUE 2 (2500 a 2900ms)

T=5000ms â”Œâ”€ setInterval dispara
         â””â”€ playSound() execute novamente
           â””â”€ ğŸ”Š TOQUE 3 (5000 a 5400ms)

... continua ...

T=ACEITARâ”Œâ”€ Clique no botÃ£o ACEITAR
         â””â”€ handleOrderAction('ACCEPT')
           â””â”€ setActiveSoundAlertOrderId(null)
             â””â”€ useEffect cleanup dispara
               â””â”€ clearInterval()
                 â””â”€ audio.pause()
                   â””â”€ â›” SOM PARA IMEDIATAMENTE
                     â””â”€ Alerta desaparece
```

---

## 7ï¸âƒ£ COMPATIBILIDADE NAVEGADORES

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      NAVEGADORES SUPORTADOS             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Chrome 90+           âœ… Completo       â”‚
â”‚  â”œâ”€ HTML5 Audio       âœ… Sim           â”‚
â”‚  â””â”€ Web Audio API     âœ… Sim           â”‚
â”‚                                         â”‚
â”‚  Firefox 88+          âœ… Completo       â”‚
â”‚  â”œâ”€ HTML5 Audio       âœ… Sim           â”‚
â”‚  â””â”€ Web Audio API     âœ… Sim           â”‚
â”‚                                         â”‚
â”‚  Safari 14+           âœ… Completo       â”‚
â”‚  â”œâ”€ HTML5 Audio       âœ… Sim           â”‚
â”‚  â””â”€ Web Audio API     âœ… Sim           â”‚
â”‚  â””â”€ webkit            âœ… Fallback      â”‚
â”‚                                         â”‚
â”‚  Edge 90+             âœ… Completo       â”‚
â”‚  â”œâ”€ HTML5 Audio       âœ… Sim           â”‚
â”‚  â””â”€ Web Audio API     âœ… Sim           â”‚
â”‚                                         â”‚
â”‚  Mobile Browsers      âœ… Completo       â”‚
â”‚  â”œâ”€ Chrome Android    âœ… Sim           â”‚
â”‚  â”œâ”€ Safari iOS        âš ï¸ Limitado*     â”‚
â”‚  â””â”€ Firefox Android   âœ… Sim           â”‚
â”‚                                         â”‚
â”‚  * iOS: Pode requerer interaÃ§Ã£o antes   â”‚
â”‚    Fallback automÃ¡tico funciona         â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8ï¸âƒ£ FLUXO COMPLETO VISUAL

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  NOVO PEDIDO CHEGA â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ fetchOrders() RUN  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Detecta PENDING status     â”‚
                â”‚ Novo ID nÃ£o no Ref        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ setActiveSoundAlertOrderId()  â”‚
                â”‚ +  Sound API call             â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                     â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ALERTA MUDA â”‚                      â”‚SOM COMECA    â”‚
    â”‚Vermelho    â”‚                      â”‚ğŸ”Š TOQUE #1   â”‚
    â”‚Piscante    â”‚                      â”‚              â”‚
    â”‚#A1B2C3D4   â”‚                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚Valor $$$   â”‚                             â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                             â”‚
          â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                      â”‚ setInterval(2.5s)        â”‚
          â”‚                      â”‚                          â”‚
          â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
          â”‚       â”‚  ğŸ”Š TOQUE #2 (T=2.5s)           â”‚       â”‚
          â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
          â”‚                      â”‚                          â”‚
          â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
          â”‚       â”‚  ğŸ”Š TOQUE #3 (T=5.0s)           â”‚       â”‚
          â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
          â”‚                      â”‚                          â”‚
          â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
          â”‚       â”‚  ... continua ...                â”‚       â”‚
          â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
          â”‚                      â”‚                          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                  â”‚                  â”‚
         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
         â”‚ ACEITAR â”‚    â”‚ MUTAR (no close)â”‚   â”‚   X     â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
              â”‚                  â”‚                  â”‚
         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚POST /accept â”‚    â”‚soundEnabled â”‚   â”‚closeAlert    â”‚
         â”‚Statusâ†’CONFIRMED  â”‚= false      â”‚   â”‚(nÃ£o parado)  â”‚
         â”‚Sound STOP   â”‚    â”‚Sound STOP   â”‚   â”‚Pedido PENDINGâ”‚
         â”‚Alerta close â”‚    â”‚Alerta stays â”‚   â”‚Som continua  â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                  â”‚                  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ PrÃ³ximo pedido PENDING?     â”‚
                  â”‚ (se houver)                 â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Volta ao inicio (novo ID)  â”‚
                   â”‚ Alerta ativa novamente     â”‚
                   â”‚ ğŸ”Š Som comeÃ§a              â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9ï¸âƒ£ RESUMO TÃ‰CNICO

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STACK TÃ‰CNICO                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  Frontend:                                      â”‚
â”‚  â”œâ”€ React 18+                                  â”‚
â”‚  â”œâ”€ Next.js 13+                                â”‚
â”‚  â”œâ”€ TypeScript                                 â”‚
â”‚  â”œâ”€ Tailwind CSS                               â”‚
â”‚  â””â”€ React Hot Toast                            â”‚
â”‚                                                 â”‚
â”‚  Audio:                                         â”‚
â”‚  â”œâ”€ HTML5 Audio API                            â”‚
â”‚  â””â”€ Web Audio API (fallback)                   â”‚
â”‚                                                 â”‚
â”‚  State:                                         â”‚
â”‚  â”œâ”€ React useState                             â”‚
â”‚  â”œâ”€ React useEffect                            â”‚
â”‚  â”œâ”€ React useRef                               â”‚
â”‚  â””â”€ Custom Hooks                               â”‚
â”‚                                                 â”‚
â”‚  IntegraÃ§Ã£o:                                    â”‚
â”‚  â”œâ”€ /api/orders (GET)                          â”‚
â”‚  â”œâ”€ /api/orders/{id}/accept (POST)             â”‚
â”‚  â”œâ”€ /api/orders/{id}/reject (POST)             â”‚
â”‚  â””â”€ /api/settings (GET)                        â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Ÿ PERFORMANCE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IMPACTO NA PERFORMANCE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  MemÃ³ria:                                      â”‚
â”‚  â”œâ”€ Hook: ~2KB (referÃªncias)                  â”‚
â”‚  â”œâ”€ Component: ~1KB (JSX)                     â”‚
â”‚  â”œâ”€ Audio Element: ~50KB-100KB (buffer)       â”‚
â”‚  â””â”€ Total: <200KB com som                     â”‚
â”‚                                                â”‚
â”‚  CPU:                                          â”‚
â”‚  â”œâ”€ Inativo: ~0% CPU                          â”‚
â”‚  â”œâ”€ Som toque: ~1-2% CPU (0.4s)               â”‚
â”‚  â”œâ”€ Entre toques: ~0% CPU                     â”‚
â”‚  â””â”€ Total: ~0.1% CPU contÃ­nuo                â”‚
â”‚                                                â”‚
â”‚  Rede:                                         â”‚
â”‚  â”œâ”€ HTML5 Audio: 1 requisiÃ§Ã£o (1Âª vez)       â”‚
â”‚  â”œâ”€ Web Audio API: 0 requisiÃ§Ãµes              â”‚
â”‚  â”œâ”€ Arquivo: ~100KB-500KB (1Âª vez apenas)    â”‚
â”‚  â””â”€ Total: NegligenciÃ¡vel                     â”‚
â”‚                                                â”‚
â”‚  LatÃªncia:                                     â”‚
â”‚  â”œâ”€ DetecÃ§Ã£o pedido: <100ms                   â”‚
â”‚  â”œâ”€ Som inicia: <50ms (HTML5) ou <10ms (Web) â”‚
â”‚  â”œâ”€ Alerta visual: <16ms (1 frame)            â”‚
â”‚  â””â”€ Resposta usuÃ¡rio: ~100-200ms              â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Diagrama Visual Completo**
**Data**: 19 de Janeiro de 2026
**Sistema**: Sistema de Alerta Sonoro para Pedidos
**VersÃ£o**: 1.0
